# Window rules and layer rules
# ==============================================================================================================================================
# Based on JaKooLit dotfiles
# https://github.com/JaKooLit


# Tags
# --------------------------------------------------------------------------------------------------------------------------------------

# Browser
windowrule = tag +browser, class:^([Ff]irefox|[Ff]irefox-bin|floorp)$
windowrule = tag +browser, class:^(brave-browser)$

# Social Media
windowrule = tag +social, class:^(org.telegram.desktop|discord)$

# Terminal
windowrule = tag +terminal, class:^(kitty|com.mitchellh.ghostty|wezterm)$

# Games
windowrule = tag +games, class:^(gamescope)$
windowrule = tag +games, class:^(steam_app_\d+)$

# Game Launcher
windowrule = tag +gamelauncher, class:^([Ss]team)$
windowrule = tag +gamelauncher, title:^([Ll]utris)$

# File Manager
windowrule = tag +filemanager, class:^(thunar|org.kde.dolphin)$

# Multimedia
windowrule = tag +multimedia, class:^(vlc|mpv|spotify|spotify-client)$

# Settings
windowrule = tag +settings, title:(Kvantum Manager)
windowrule = tag +settings, class:^(nm-applet|nm-connection-editor|blueman-manager)$
windowrule = tag +settings, class:^(pavucontrol|org.pulseaudio.pavucontrol|com.saivert.pwvucontrol)$
windowrule = tag +settings, class:^(qt5ct|qt6ct|nwg-displays|nwg-look)$
windowrule = tag +settings, class:(xdg-desktop-portal-gtk)

# IDE
windowrule = tag +ide, class:^(dev.zed.Zed|code-oss|code|codium|jetbrains-.+)$

# Window rules
# --------------------------------------------------------------------------------------------------------------------------------------

# No transparency and blur for multimedia
windowrule = noblur, tag:multimedia*
windowrule = opacity 1.0, tag:multimedia*

# No blur for games
windowrule = noblur, tag:games*
windowrule = fullscreen, tag:games*

# Prevent idle for fullscreen windows
windowrule = idleinhibit fullscreen, fullscreen:1

windowrule = animation layers, class:^([Rr]ofi)$

# Float system monitor
windowrule = float, title:^(System Monitor)$
windowrule = size 60% 60%, title:^(System Monitor)$

# Float SDDM wallpaper dialogues
windowrule = float, title:^(Update SDDM Wallpaper)$
windowrule = size 60% 60%, title:^(Update SDDM Wallpaper)$

# Positioning
# ....................................................................................................

# Setting dialogues
windowrule = float, tag:settings*
windowrule = center, tag:settings*
windowrule = size 70% 70%, tag:settings*

# File manager dialogues (replace with your preferred file manager)
windowrule = float, class:([Tt]hunar), title:negative:(.*[Tt]hunar.*)
windowrule = center, class:([Tt]hunar), title:negative:(.*[Tt]hunar.*)

# Image viewer (replace with your preferred image viewer)
windowrule = float, class:^(org.gnome.Loupe|org.kde.gwenview)$
windowrule = center, class:^(org.gnome.Loupe|org.kde.gwenview)$
windowrule = size 70% 70%, class:^(org.gnome.Loupe|org.kde.gwenview)$

# Archive manager dialogues (replace with your preferred archive manager)
windowrule = float, class:^(org.kde.ark|xarchiver)$
windowrule = center, class:^(org.kde.ark|xarchiver)$

# Waypaper
windowrule = float, class:^(waypaper)$
windowrule = center, class:^(waypaper)$

# Authentication dialogues
windowrule = float, title:^(Authentication Required)$
windowrule = center, title:^(Authentication Required)$
windowrule = float, class:^(hyprpolkitagent|org.kde.polkit-kde-authentication-agent-1|org.gnome.polkit-gnome-authentication-agent-1)$

# Steam dialogues
windowrule = float, class:^([Ss]team)$, title:negative:^([Ss]team)$

# Picture-in-Picture
windowrule = float, title:^(Picture-in-Picture)$
windowrule = pin, title:^(Picture-in-Picture)$
windowrule = keepaspectratio, title:^(Picture-in-Picture)$

# File dialogues
windowrule = float, title:^(Save As)$
windowrule = size 70% 60%, title:^(Save As)$
windowrule = center, title:^(Save As)$
windowrule = float, initialTitle:(Open Files)
windowrule = size 70% 60%, initialTitle:(Open Files)

# Clipboard manager
windowrule = float, class:(clipse)
windowrule = size 622 652, class:(clipse)
windowrule = stayfocused, class:(clipse)

# Calculator
windowrule = float, class:^([Qq]alculate-gtk)$

# Move to workspace
# ....................................................................................................

windowrule = workspace 1, tag:browser*
windowrule = workspace 3, tag:social*
windowrule = workspace 4, tag:ide*
windowrule = workspace 5, tag:gamelauncher*
windowrule = workspace 6, tag:games*

# Layer rules
# --------------------------------------------------------------------------------------------------------------------------------------

# Rofi
layerrule = blur, rofi
layerrule = ignorezero, rofi
layerrule = dimaround, rofi
layerrule = xray 1, rofi

# Notifications
layerrule = blur, notifications
layerrule = ignorezero, notifications
layerrule = blur, swaync-control-center
layerrule = blur, swaync-notification-window
layerrule = ignorezero, swaync-control-center
layerrule = ignorezero, swaync-notification-window
layerrule = ignorealpha 0.5, swaync-control-center
layerrule = ignorealpha 0.5, swaync-notification-window

# Logout
layerrule = blur, logout_dialog
layerrule = ignorezero, logout_dialog
